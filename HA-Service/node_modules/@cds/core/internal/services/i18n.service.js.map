{"version":3,"file":"i18n.service.js","sources":["../../../../src/internal/services/i18n.service.ts"],"sourcesContent":["/*\n * Copyright (c) 2016-2023 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { GlobalStateService } from './global.service.js';\nimport { interpolateNaively } from '../utils/string.js';\nimport { mergeObjects, objectNaiveDeepEquals } from '../utils/identity.js';\nexport const componentStringsDefault = {\n    actions: {\n        sort: 'Sort',\n        expand: 'Expand',\n        close: 'Close',\n        resize: 'Resize',\n        filter: 'Filter',\n    },\n    alert: {\n        closeButtonAriaLabel: 'Close',\n        loading: 'Loading',\n        info: 'Info',\n        success: 'Success',\n        warning: 'Warning',\n        danger: 'Error',\n    },\n    dropdown: {\n        open: 'Open',\n    },\n    file: {\n        browse: 'browse',\n        files: 'files',\n        removeFile: 'remove file',\n    },\n    modal: {\n        closeButtonAriaLabel: 'Close modal',\n        contentStart: 'Beginning of modal content',\n        contentBox: 'Scrollable modal body',\n        contentEnd: 'End of modal content',\n    },\n    navigation: {\n        navigationElement: 'navigation',\n        navigationLabel: 'navigation menu',\n        navigationAbridgedText: 'View abridged menu',\n        navigationUnabridgedText: 'View unabridged menu',\n    },\n    overlay: {\n        closeButtonAriaLabel: 'Close dialog',\n        contentStart: 'Beginning of dialog content',\n        contentEnd: 'End of dialog content',\n    },\n    popup: {\n        closeButtonAriaLabel: 'Close popup',\n        contentStart: 'Beginning of popup content',\n        contentEnd: 'End of popup content',\n    },\n    password: {\n        showButtonAriaLabel: 'Show password',\n        hideButtonAriaLabel: 'Hide password',\n    },\n    progress: {\n        loading: 'Loading',\n        looping: 'Loading',\n    },\n    treeview: {\n        loading: 'Loading',\n    },\n    grid: {\n        resizeColumn: 'Resize Column',\n        closeDetails: 'Close Details',\n        noData: 'No Results Found',\n        rowDetailStart: 'Start of row details',\n        rowDetailEnd: 'End of row details',\n        footerEnd: 'End of grid rows',\n        action: 'Action',\n        dropTarget: 'Drop Item',\n        pagination: {\n            label: 'grid pagination',\n            firstPage: 'go to first page',\n            previousPage: 'go to previous page',\n            nextPage: 'go to next page',\n            lastPage: 'go to last page',\n            pageSize: 'rows per page',\n            page: 'page',\n        },\n    },\n};\n/**\n * I18nService is a static class that gives users the ability to use and override\n * strings within the components for internationalization / globalization. One\n * can override default values globally for their application or override per\n * component instance as needed.\n *\n * Use the localize method to override values globally. For per component instance,\n * use the i18n decorator.\n */\nexport class I18nService {\n    static get keys() {\n        // intialize registry if not yet set\n        if (Object.keys(GlobalStateService.state.i18nRegistry).length === 0) {\n            GlobalStateService.state.i18nRegistry = mergeObjects(componentStringsDefault, GlobalStateService.state.i18nRegistry);\n        }\n        return mergeObjects(componentStringsDefault, GlobalStateService.state.i18nRegistry);\n    }\n    static findKey(keyValueObj) {\n        const keyVals = I18nService.keys;\n        return Object.keys(keyVals).find(key => objectNaiveDeepEquals(keyVals[key], keyValueObj));\n    }\n    static get(key) {\n        if (!key) {\n            return {};\n        }\n        return I18nService.keys[key] || {};\n    }\n    /** @private */\n    static reset() {\n        // largely useful for unit testing\n        GlobalStateService.state.i18nRegistry = mergeObjects({}, componentStringsDefault);\n    }\n    static hydrate(i18nObject, componentInstance) {\n        return JSON.parse(interpolateNaively(JSON.stringify(i18nObject), componentInstance));\n    }\n    static localize(overrides) {\n        GlobalStateService.state.i18nRegistry = mergeObjects(componentStringsDefault, GlobalStateService.state.i18nRegistry, overrides);\n    }\n}\n"],"names":["componentStringsDefault","actions","sort","expand","close","resize","filter","alert","closeButtonAriaLabel","loading","info","success","warning","danger","dropdown","open","file","browse","files","removeFile","modal","contentStart","contentBox","contentEnd","navigation","navigationElement","navigationLabel","navigationAbridgedText","navigationUnabridgedText","overlay","popup","password","showButtonAriaLabel","hideButtonAriaLabel","progress","looping","treeview","grid","resizeColumn","closeDetails","noData","rowDetailStart","rowDetailEnd","footerEnd","action","dropTarget","pagination","label","firstPage","previousPage","nextPage","lastPage","pageSize","page","I18nService","keys","Object","GlobalStateService","state","i18nRegistry","length","mergeObjects","static","keyValueObj","keyVals","find","key","objectNaiveDeepEquals","i18nObject","componentInstance","JSON","parse","interpolateNaively","stringify","overrides"],"mappings":"gMAQY,MAACA,EAA0B,CACnCC,QAAS,CACLC,KAAM,OACNC,OAAQ,SACRC,MAAO,QACPC,OAAQ,SACRC,OAAQ,UAEZC,MAAO,CACHC,qBAAsB,QACtBC,QAAS,UACTC,KAAM,OACNC,QAAS,UACTC,QAAS,UACTC,OAAQ,SAEZC,SAAU,CACNC,KAAM,QAEVC,KAAM,CACFC,OAAQ,SACRC,MAAO,QACPC,WAAY,eAEhBC,MAAO,CACHZ,qBAAsB,cACtBa,aAAc,6BACdC,WAAY,wBACZC,WAAY,wBAEhBC,WAAY,CACRC,kBAAmB,aACnBC,gBAAiB,kBACjBC,uBAAwB,qBACxBC,yBAA0B,wBAE9BC,QAAS,CACLrB,qBAAsB,eACtBa,aAAc,8BACdE,WAAY,yBAEhBO,MAAO,CACHtB,qBAAsB,cACtBa,aAAc,6BACdE,WAAY,wBAEhBQ,SAAU,CACNC,oBAAqB,gBACrBC,oBAAqB,iBAEzBC,SAAU,CACNzB,QAAS,UACT0B,QAAS,WAEbC,SAAU,CACN3B,QAAS,WAEb4B,KAAM,CACFC,aAAc,gBACdC,aAAc,gBACdC,OAAQ,mBACRC,eAAgB,uBAChBC,aAAc,qBACdC,UAAW,mBACXC,OAAQ,SACRC,WAAY,YACZC,WAAY,CACRC,MAAO,kBACPC,UAAW,mBACXC,aAAc,sBACdC,SAAU,kBACVC,SAAU,kBACVC,SAAU,gBACVC,KAAM,UAaX,MAAMC,EACEC,kBAKP,OAHkE,IAA9DC,OAAOD,KAAKE,EAAmBC,MAAMC,cAAcC,SACnDH,EAAmBC,MAAMC,aAAeE,EAAa7D,EAAyByD,EAAmBC,MAAMC,eAEpGE,EAAa7D,EAAyByD,EAAmBC,MAAMC,cAE1EG,eAAeC,GACX,MAAMC,EAAUV,EAAYC,KAC5B,OAAOC,OAAOD,KAAKS,GAASC,MAAKC,GAAOC,EAAsBH,EAAQE,GAAMH,KAEhFD,WAAWI,GACP,OAAKA,GAGEZ,EAAYC,KAAKW,IAFb,GAKfJ,eAEIL,EAAmBC,MAAMC,aAAeE,EAAa,GAAI7D,GAE7D8D,eAAeM,EAAYC,GACvB,OAAOC,KAAKC,MAAMC,EAAmBF,KAAKG,UAAUL,GAAaC,IAErEP,gBAAgBY,GACZjB,EAAmBC,MAAMC,aAAeE,EAAa7D,EAAyByD,EAAmBC,MAAMC,aAAce"}