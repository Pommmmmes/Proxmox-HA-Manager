{"version":3,"file":"global.service.js","sources":["../../../../src/internal/services/global.service.ts"],"sourcesContent":["/*\n * Copyright (c) 2016-2023 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { EventSubject } from '../utils/event-subject.js';\nimport { setupCDSGlobal } from '../utils/global.js';\nimport { LogService } from './log.service.js';\nconst stateUpdates = new EventSubject();\nstateUpdates.listener = document.addEventListener('CDS_STATE_UPDATE', (e) => stateUpdates.emit(e.detail));\nexport class GlobalStateService {\n    static get state() {\n        setupCDSGlobal();\n        return window.CDS._state;\n    }\n    static getValue(key) {\n        return GlobalStateService.state[key];\n    }\n    static setValue(key, val) {\n        GlobalStateService.state[key] = val;\n    }\n    static log() {\n        LogService.log(JSON.stringify(GlobalStateService.state, null, 2));\n    }\n}\nGlobalStateService.stateUpdates = stateUpdates.toEventObservable();\n"],"names":["stateUpdates","EventSubject","listener","document","addEventListener","e","emit","detail","GlobalStateService","state","setupCDSGlobal","window","CDS","_state","static","key","val","LogService","log","JSON","stringify","toEventObservable"],"mappings":"2JAQA,MAAMA,EAAe,IAAIC,EACzBD,EAAaE,SAAWC,SAASC,iBAAiB,oBAAqBC,GAAML,EAAaM,KAAKD,EAAEE,UAC1F,MAAMC,EACEC,mBAEP,OADAC,IACOC,OAAOC,IAAIC,OAEtBC,gBAAgBC,GACZ,OAAOP,EAAmBC,MAAMM,GAEpCD,gBAAgBC,EAAKC,GACjBR,EAAmBC,MAAMM,GAAOC,EAEpCF,aACIG,EAAWC,IAAIC,KAAKC,UAAUZ,EAAmBC,MAAO,KAAM,KAGtED,EAAmBR,aAAeA,EAAaqB"}