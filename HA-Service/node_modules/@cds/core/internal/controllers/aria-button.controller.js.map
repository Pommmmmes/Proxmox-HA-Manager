{"version":3,"file":"aria-button.controller.js","sources":["../../../../src/internal/controllers/aria-button.controller.ts"],"sourcesContent":["/*\n * Copyright (c) 2016-2023 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n/**\n * Provides nessesary attributes for indicating a non-button element as an accessible button type.\n */\nexport function ariaButton() {\n    return (target) => target.addInitializer((instance) => new AriaButtonController(instance));\n}\nexport class AriaButtonController {\n    constructor(host) {\n        this.host = host;\n        this.host.addController(this);\n    }\n    hostConnected() {\n        this.host.tabIndex = 0; // initialize immediately so element can be focused synchronously\n    }\n    hostUpdated() {\n        this.host.role = this.host.readonly ? null : 'button';\n        this.host.tabIndex = !this.host.disabled ? 0 : -1;\n        if (this.host.readonly) {\n            this.host.removeAttribute('tabindex');\n        }\n    }\n}\n"],"names":["ariaButton","target","addInitializer","instance","AriaButtonController","constructor","host","this","addController","hostConnected","tabIndex","hostUpdated","role","readonly","disabled","removeAttribute"],"mappings":"AAQO,SAASA,IACZ,OAAQC,GAAWA,EAAOC,gBAAgBC,GAAa,IAAIC,EAAqBD,KAE7E,MAAMC,EACTC,YAAYC,GACRC,KAAKD,KAAOA,EACZC,KAAKD,KAAKE,cAAcD,MAE5BE,gBACIF,KAAKD,KAAKI,SAAW,EAEzBC,cACIJ,KAAKD,KAAKM,KAAOL,KAAKD,KAAKO,SAAW,KAAO,SAC7CN,KAAKD,KAAKI,SAAYH,KAAKD,KAAKQ,UAAgB,EAAL,EACvCP,KAAKD,KAAKO,UACVN,KAAKD,KAAKS,gBAAgB"}