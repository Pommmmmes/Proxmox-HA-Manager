{"version":3,"file":"button-anchor.controller.js","sources":["../../../../src/internal/controllers/button-anchor.controller.ts"],"sourcesContent":["/*\n * Copyright (c) 2016-2023 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n/**\n * Shim for allowing custom element button types to be wrapped with anchors as Safari prevents use of extending native element types.\n * Will detect presence of anchor and set component to a readonly button state.\n *\n * Example:\n *\n * ```html\n * <a href=\"#\">\n *  <cds-button></cds-button>\n * </a>\n * ```\n */\nexport function buttonAnchor() {\n    return (target) => target.addInitializer((instance) => new ButtonAnchorController(instance));\n}\nexport class ButtonAnchorController {\n    constructor(host) {\n        this.host = host;\n        this.host.addController(this);\n    }\n    get currentAnchor() {\n        return this.host.parentElement?.tagName === 'A' ? this.host.parentElement : null;\n    }\n    hostConnected() {\n        this.setAnchor();\n    }\n    hostUpdated() {\n        this.setAnchor();\n    }\n    setAnchor() {\n        if (this.currentAnchor && this.currentAnchor !== this.previousAnchor) {\n            this.previousAnchor = this.currentAnchor;\n            this.host.readonly = true;\n            this.currentAnchor.style.lineHeight = '0';\n            this.currentAnchor.style.textDecoration = 'none'; // fixes issue when style is applied to text node\n        }\n    }\n}\n"],"names":["buttonAnchor","target","addInitializer","instance","ButtonAnchorController","constructor","host","this","addController","currentAnchor","parentElement","tagName","hostConnected","setAnchor","hostUpdated","previousAnchor","readonly","style","lineHeight","textDecoration"],"mappings":"AAiBO,SAASA,IACZ,OAAQC,GAAWA,EAAOC,gBAAgBC,GAAa,IAAIC,EAAuBD,KAE/E,MAAMC,EACTC,YAAYC,GACRC,KAAKD,KAAOA,EACZC,KAAKD,KAAKE,cAAcD,MAExBE,oBACA,MAA4C,MAArCF,KAAKD,KAAKI,eAAeC,QAAkBJ,KAAKD,KAAKI,cAAgB,KAEhFE,gBACIL,KAAKM,YAETC,cACIP,KAAKM,YAETA,YACQN,KAAKE,eAAiBF,KAAKE,gBAAkBF,KAAKQ,iBAClDR,KAAKQ,eAAiBR,KAAKE,cAC3BF,KAAKD,KAAKU,UAAW,EACrBT,KAAKE,cAAcQ,MAAMC,WAAa,IACtCX,KAAKE,cAAcQ,MAAME,eAAiB"}