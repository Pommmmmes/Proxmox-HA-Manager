{"version":3,"file":"framework.js","sources":["../../../../src/internal/utils/framework.ts"],"sourcesContent":["/*\n * Copyright (c) 2016-2023 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n// DO NOT USE for conditionally applying behavior based on the host framework.\n// These utilities are only for detecting host frameworks for debugging and logging.\n// Host framework specific code should exist outside of the @cds/core package.\n// Get values once then cache\nlet angularVersion;\nlet angularJSVersion;\nlet reactVersion;\nlet vueVersion;\nexport function getAngularVersion(useCache = true) {\n    if (!useCache || !angularVersion) {\n        const appRoot = document && document.querySelector('[ng-version]');\n        angularVersion = appRoot ? `${appRoot.getAttribute('ng-version')}` : undefined;\n    }\n    return angularVersion;\n}\nexport function getAngularJSVersion(useCache = true) {\n    if (!useCache || !angularVersion) {\n        angularJSVersion = window?.angular?.version?.full;\n    }\n    return angularJSVersion;\n}\nexport function getReactVersion(useCache = true) {\n    if (!useCache || !reactVersion) {\n        if (window?.CDS?._react?.version) {\n            reactVersion = window.CDS._react.version;\n        }\n        else if (document.querySelector('[data-reactroot], [data-reactid]')) {\n            reactVersion = 'unknown version';\n        }\n        else {\n            reactVersion = undefined;\n        }\n    }\n    return reactVersion;\n}\nexport function getVueVersion(useCache = true) {\n    if (!useCache || !vueVersion) {\n        const all = document.querySelectorAll('*');\n        let el;\n        for (let i = 0; i < all.length; i++) {\n            if (all[i].__vue__) {\n                el = all[i];\n                break;\n            }\n        }\n        vueVersion = el ? 'unknown version' : undefined;\n    }\n    return vueVersion;\n}\nexport function isStorybook() {\n    return window?.location?.href?.includes('localhost:6006');\n}\n"],"names":["angularVersion","angularJSVersion","reactVersion","vueVersion","getAngularVersion","useCache","appRoot","document","querySelector","getAttribute","undefined","getAngularJSVersion","window","angular","version","full","getReactVersion","CDS","_react","getVueVersion","all","querySelectorAll","el","i","length","__vue__","isStorybook","location","href","includes"],"mappings":"AASA,IAAIA,EACAC,EACAC,EACAC,EACG,SAASC,EAAkBC,GAAW,GACzC,IAAKA,IAAaL,EAAgB,CAC9B,MAAMM,EAAUC,UAAYA,SAASC,cAAc,gBACnDR,EAAiBM,EAAU,GAAGA,EAAQG,aAAa,mBAAkBC,EAEzE,OAAOV,EAEJ,SAASW,EAAoBN,GAAW,GAI3C,OAHKA,GAAaL,IACdC,EAAmBW,QAAQC,SAASC,SAASC,MAE1Cd,EAEJ,SAASe,EAAgBX,GAAW,GAYvC,OAXKA,GAAaH,IAEVA,EADAU,QAAQK,KAAKC,QAAQJ,QACNF,OAAOK,IAAIC,OAAOJ,QAE5BP,SAASC,cAAc,oCACb,uBAGAE,GAGhBR,EAEJ,SAASiB,EAAcd,GAAW,GACrC,IAAKA,IAAaF,EAAY,CAC1B,MAAMiB,EAAMb,SAASc,iBAAiB,KACtC,IAAIC,EACJ,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAII,OAAQD,IAC5B,GAAIH,EAAIG,GAAGE,QAAS,CAChBH,EAAKF,EAAIG,GACT,MAGRpB,EAAamB,EAAK,uBAAoBZ,EAE1C,OAAOP,EAEJ,SAASuB,IACZ,OAAOd,QAAQe,UAAUC,MAAMC,SAAS"}