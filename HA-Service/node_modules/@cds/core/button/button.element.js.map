{"version":3,"file":"button.element.js","sources":["../../../src/button/button.element.ts"],"sourcesContent":["/*\n * Copyright (c) 2016-2023 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { __decorate } from \"tslib\";\nimport { html } from 'lit';\nimport { baseStyles, CdsBaseButton, getElementWidth, property } from '@cds/core/internal';\nimport styles from './button.element.scss';\nexport var ClrLoadingState;\n(function (ClrLoadingState) {\n    ClrLoadingState[\"default\"] = \"default\";\n    ClrLoadingState[\"loading\"] = \"loading\";\n    ClrLoadingState[\"success\"] = \"success\";\n    ClrLoadingState[\"error\"] = \"error\";\n})(ClrLoadingState || (ClrLoadingState = {}));\n/**\n * Buttons allow an application to communicate action and direct user intent.\n *\n * ```typescript\n * import '@cds/core/button/register.js';\n * ```\n *\n * ```html\n * <cds-button>submit</cds-button>\n * ```\n *\n * @element cds-button\n * @slot - Content slot for inside the button\n * @cssprop --background\n * @cssprop --border-color\n * @cssprop --border-radius\n * @cssprop --border-width\n * @cssprop --box-shadow-color\n * @cssprop --color\n * @cssprop --font-family\n * @cssprop --font-size\n * @cssprop --font-weight\n * @cssprop --height\n * @cssprop --letter-spacing\n * @cssprop --min-width\n * @cssprop --padding\n * @cssprop --text-decoration\n * @cssprop --text-transform\n */\nexport class CdsButton extends CdsBaseButton {\n    constructor() {\n        super(...arguments);\n        /**\n         * Define the type of action the button triggers\n         *\n         * - `solid`: buttons direct the userâ€™s attention to the primary action the application is suggesting that the user take.\n         * - `outline`: buttons indicate secondary actions that compliments a primary action or reduces visual noise when there are many actions on the page.\n         * - `flat`: buttons are used as tertiary buttons. Can also be used inline because they are different from content in style and recognizable as buttons alongside content.\n         */\n        this.action = 'solid';\n        /**\n         * Sets the color of the button to match the following string statuses\n         */\n        this.status = 'primary';\n        /**\n         * Sets the overall height and width of the button based on the following string values:\n         */\n        this.size = 'md';\n        /** Sets if the button should be full width with display block */\n        this.block = false;\n        /**\n         * Changes the button content based on the value passed.\n         * @type {default | loading | success | error}\n         *\n         * - `default`: shows the content of the button\n         * - `loading`: disables the button and shows a spinner inside the button\n         * - `success`: disables the button and shows a check mark inside the button; auto-triggers to change back to DEFAULT state after 1000 ms\n         * - `error`: shows the content of the button (in the context of application, this state is usually entered from a LOADING state. the application should show appropriate error message)\n         */\n        this.loadingState = ClrLoadingState.default;\n        // when the loading state changes,\n        //    the disabled state should be set back to what the consumer manually set (if they set it)\n        // the setter here should never be called in the component, call super instead\n        //  https://github.com/vmware-clarity/core/issues/129\n        this._disabledExternally = false;\n    }\n    get disabled() {\n        return super.disabled;\n    }\n    set disabled(value) {\n        this._disabledExternally = value;\n        super.disabled = value;\n    }\n    firstUpdated(props) {\n        super.firstUpdated(props);\n        if (!this.isDefaultLoadingState(this.loadingState)) {\n            super.disabled = true;\n        }\n    }\n    update(props) {\n        if (props.has('loadingState') && props.get('loadingState') !== undefined) {\n            if (this.isDefaultLoadingState(this.loadingState)) {\n                this.restoreButton();\n            }\n            else {\n                this.disableButton();\n            }\n        }\n        super.update(props);\n    }\n    render() {\n        return html `<div class=\"private-host\" cds-layout=\"horizontal gap:xs wrap:none align:center\">\n      ${this.loadingState === ClrLoadingState.success\n            ? html `<cds-icon shape=\"check\" status=\"success\" size=\"18\"></cds-icon>`\n            : ''}\n      ${this.loadingState === ClrLoadingState.error\n            ? html `<cds-icon shape=\"error-standard\" status=\"danger\" size=\"18\"></cds-icon>`\n            : ''}\n      ${this.loadingState === ClrLoadingState.loading\n            ? html `<cds-progress-circle .size=${this.size === 'sm' ? '12' : '18'} status=\"info\"></cds-progress-circle>`\n            : ''}\n      ${this.loadingState === ClrLoadingState.default ? html `<slot></slot>` : ''}\n    </div>`;\n    }\n    isDefaultLoadingState(state) {\n        return state === ClrLoadingState.default;\n    }\n    disableButton() {\n        this.style.width = getElementWidth(this);\n        super.disabled = true;\n    }\n    restoreButton() {\n        this.style.removeProperty('width');\n        super.disabled = this._disabledExternally;\n    }\n}\nCdsButton.styles = [baseStyles, styles];\n__decorate([\n    property({ type: String })\n], CdsButton.prototype, \"action\", void 0);\n__decorate([\n    property({ type: String })\n], CdsButton.prototype, \"status\", void 0);\n__decorate([\n    property({ type: String })\n], CdsButton.prototype, \"size\", void 0);\n__decorate([\n    property({ type: Boolean })\n], CdsButton.prototype, \"block\", void 0);\n__decorate([\n    property({ type: String })\n], CdsButton.prototype, \"loadingState\", void 0);\n__decorate([\n    property({ type: Boolean })\n], CdsButton.prototype, \"disabled\", null);\n"],"names":["ClrLoadingState","CdsButton","CdsBaseButton","constructor","super","this","action","status","size","block","loadingState","default","_disabledExternally","disabled","value","firstUpdated","props","isDefaultLoadingState","update","has","undefined","get","restoreButton","disableButton","render","html","success","error","loading","state","style","width","getElementWidth","removeProperty","styles","baseStyles","__decorate","property","type","String","prototype","Boolean"],"mappings":"4MASU,IAACA,GACX,SAAWA,GACPA,EAAyB,QAAI,UAC7BA,EAAyB,QAAI,UAC7BA,EAAyB,QAAI,UAC7BA,EAAuB,MAAI,QAJ/B,CAKGA,IAAoBA,EAAkB,KA8BlC,MAAMC,UAAkBC,EAC3BC,cACIC,oBAQAC,KAAKC,OAAS,QAIdD,KAAKE,OAAS,UAIdF,KAAKG,KAAO,KAEZH,KAAKI,OAAQ,EAUbJ,KAAKK,aAAeV,EAAgBW,QAKpCN,KAAKO,qBAAsB,EAE3BC,eACA,OAAOT,MAAMS,SAEbA,aAASC,GACTT,KAAKO,oBAAsBE,EAC3BV,MAAMS,SAAWC,EAErBC,aAAaC,GACTZ,MAAMW,aAAaC,GACdX,KAAKY,sBAAsBZ,KAAKK,gBACjCN,MAAMS,UAAW,GAGzBK,OAAOF,GACCA,EAAMG,IAAI,sBAAiDC,IAA9BJ,EAAMK,IAAI,kBACnChB,KAAKY,sBAAsBZ,KAAKK,cAChCL,KAAKiB,gBAGLjB,KAAKkB,iBAGbnB,MAAMc,OAAOF,GAEjBQ,SACI,OAAOC,CAAK,mFACZpB,KAAKK,eAAiBV,EAAgB0B,QAChCD,CAAK,iEACL,MACNpB,KAAKK,eAAiBV,EAAgB2B,MAChCF,CAAK,yEACL,MACNpB,KAAKK,eAAiBV,EAAgB4B,QAChCH,CAAK,+BAA4C,OAAdpB,KAAKG,KAAgB,KAAO,6CAC/D,MACNH,KAAKK,eAAiBV,EAAgBW,QAAUc,CAAK,gBAAkB,WAG3ER,sBAAsBY,GAClB,OAAOA,IAAU7B,EAAgBW,QAErCY,gBACIlB,KAAKyB,MAAMC,MAAQC,EAAgB3B,MACnCD,MAAMS,UAAW,EAErBS,gBACIjB,KAAKyB,MAAMG,eAAe,SAC1B7B,MAAMS,SAAWR,KAAKO,qBAG9BX,EAAUiC,OAAS,CAACC,EAAYD,GAChCE,EAAW,CACPC,EAAS,CAAEC,KAAMC,UAClBtC,EAAUuC,UAAW,cAAU,GAClCJ,EAAW,CACPC,EAAS,CAAEC,KAAMC,UAClBtC,EAAUuC,UAAW,cAAU,GAClCJ,EAAW,CACPC,EAAS,CAAEC,KAAMC,UAClBtC,EAAUuC,UAAW,YAAQ,GAChCJ,EAAW,CACPC,EAAS,CAAEC,KAAMG,WAClBxC,EAAUuC,UAAW,aAAS,GACjCJ,EAAW,CACPC,EAAS,CAAEC,KAAMC,UAClBtC,EAAUuC,UAAW,oBAAgB,GACxCJ,EAAW,CACPC,EAAS,CAAEC,KAAMG,WAClBxC,EAAUuC,UAAW,WAAY"}