{"version":3,"file":"split-handle.element.js","sources":["../../../../src/internal-components/split-handle/split-handle.element.ts"],"sourcesContent":["/*\n * Copyright (c) 2016-2023 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { __decorate } from \"tslib\";\nimport { html, LitElement } from 'lit';\nimport { i18n, I18nService, state, property, querySlot, touch } from '@cds/core/internal';\nimport styles from './split-handle.element.scss';\n/**\n * Button Split\n *\n * ```typescript\n * import '@cds/core/internal-components/split-handle/register.js';\n * ```\n *\n * ```html\n * <cds-internal-split-handle>\n *  <input type=\"range\" step=\"10\" aria-label=\"resize\" />\n * </cds-internal-split-handle>\n * ```\n * @beta\n * @element cds-internal-split-handle\n * @slot - For projecting range input\n */\nlet CdsInternalSplitHandle = class CdsInternalSplitHandle extends LitElement {\n    constructor() {\n        super(...arguments);\n        this.i18n = I18nService.keys.actions;\n        this.direction = 'vertical';\n        this.readonly = false;\n        this.focused = false;\n        this.step = '1';\n    }\n    render() {\n        return html `\n      <div class=\"private-host\">\n        <slot></slot>\n      </div>\n    `;\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.readonly = !this.range;\n    }\n    firstUpdated(props) {\n        super.firstUpdated(props);\n        if (this.range) {\n            this.range.ariaLabel = this.range.ariaLabel ? this.range.ariaLabel : this.i18n.resize;\n            this.range.addEventListener('focus', () => (this.focused = true));\n            this.range.addEventListener('blur', () => (this.focused = false));\n            this.addEventListener('cdsTouchStart', () => this.toughStart());\n            this.addEventListener('cdsTouchEnd', () => this.touchEnd());\n            this.addEventListener('cdsTouchMove', (e) => this.touchMove(e));\n        }\n    }\n    toughStart() {\n        this.focused = true;\n        this.step = this.range.step;\n        this.range.step = '1';\n    }\n    touchEnd() {\n        this.focused = false;\n        this.range.step = this.step;\n    }\n    touchMove(e) {\n        const offset = this.direction === 'vertical' ? e.detail.offsetX : e.detail.offsetY;\n        this.range.valueAsNumber = this.range.valueAsNumber + offset;\n        requestAnimationFrame(() => this.range.dispatchEvent(new Event('input')));\n    }\n};\nCdsInternalSplitHandle.styles = [styles];\n__decorate([\n    i18n()\n], CdsInternalSplitHandle.prototype, \"i18n\", void 0);\n__decorate([\n    property({ type: String })\n], CdsInternalSplitHandle.prototype, \"direction\", void 0);\n__decorate([\n    state({ type: Boolean, reflect: true })\n], CdsInternalSplitHandle.prototype, \"readonly\", void 0);\n__decorate([\n    state({ type: Boolean, reflect: true })\n], CdsInternalSplitHandle.prototype, \"focused\", void 0);\n__decorate([\n    state()\n], CdsInternalSplitHandle.prototype, \"step\", void 0);\n__decorate([\n    querySlot('input')\n], CdsInternalSplitHandle.prototype, \"range\", void 0);\nCdsInternalSplitHandle = __decorate([\n    touch()\n], CdsInternalSplitHandle);\nexport { CdsInternalSplitHandle };\n"],"names":["CdsInternalSplitHandle","LitElement","constructor","super","this","i18n","I18nService","keys","actions","direction","readonly","focused","step","render","html","connectedCallback","range","firstUpdated","props","ariaLabel","resize","addEventListener","toughStart","touchEnd","e","touchMove","offset","detail","offsetX","offsetY","valueAsNumber","requestAnimationFrame","dispatchEvent","Event","styles","__decorate","prototype","property","type","String","state","Boolean","reflect","querySlot","touch"],"mappings":"0OAyBG,IAACA,EAAyB,cAAqCC,EAC9DC,cACIC,oBACAC,KAAKC,KAAOC,EAAYC,KAAKC,QAC7BJ,KAAKK,UAAY,WACjBL,KAAKM,UAAW,EAChBN,KAAKO,SAAU,EACfP,KAAKQ,KAAO,IAEhBC,SACI,OAAOC,CAAK,gDAMhBC,oBACIZ,MAAMY,oBACNX,KAAKM,UAAYN,KAAKY,MAE1BC,aAAaC,GACTf,MAAMc,aAAaC,GACfd,KAAKY,QACLZ,KAAKY,MAAMG,UAAYf,KAAKY,MAAMG,UAAYf,KAAKY,MAAMG,UAAYf,KAAKC,KAAKe,OAC/EhB,KAAKY,MAAMK,iBAAiB,SAAS,IAAOjB,KAAKO,SAAU,IAC3DP,KAAKY,MAAMK,iBAAiB,QAAQ,IAAOjB,KAAKO,SAAU,IAC1DP,KAAKiB,iBAAiB,iBAAiB,IAAMjB,KAAKkB,eAClDlB,KAAKiB,iBAAiB,eAAe,IAAMjB,KAAKmB,aAChDnB,KAAKiB,iBAAiB,gBAAiBG,GAAMpB,KAAKqB,UAAUD,MAGpEF,aACIlB,KAAKO,SAAU,EACfP,KAAKQ,KAAOR,KAAKY,MAAMJ,KACvBR,KAAKY,MAAMJ,KAAO,IAEtBW,WACInB,KAAKO,SAAU,EACfP,KAAKY,MAAMJ,KAAOR,KAAKQ,KAE3Ba,UAAUD,GACN,MAAME,EAA4B,aAAnBtB,KAAKK,UAA2Be,EAAEG,OAAOC,QAAUJ,EAAEG,OAAOE,QAC3EzB,KAAKY,MAAMc,cAAgB1B,KAAKY,MAAMc,cAAgBJ,EACtDK,uBAAsB,IAAM3B,KAAKY,MAAMgB,cAAc,IAAIC,MAAM,cAGvEjC,EAAuBkC,OAAS,CAACA,GACjCC,EAAW,CACP9B,KACDL,EAAuBoC,UAAW,YAAQ,GAC7CD,EAAW,CACPE,EAAS,CAAEC,KAAMC,UAClBvC,EAAuBoC,UAAW,iBAAa,GAClDD,EAAW,CACPK,EAAM,CAAEF,KAAMG,QAASC,SAAS,KACjC1C,EAAuBoC,UAAW,gBAAY,GACjDD,EAAW,CACPK,EAAM,CAAEF,KAAMG,QAASC,SAAS,KACjC1C,EAAuBoC,UAAW,eAAW,GAChDD,EAAW,CACPK,KACDxC,EAAuBoC,UAAW,YAAQ,GAC7CD,EAAW,CACPQ,EAAU,UACX3C,EAAuBoC,UAAW,aAAS,GAC9CpC,EAAyBmC,EAAW,CAChCS,KACD5C"}