{"version":3,"file":"control-inline.element.js","sources":["../../../../src/forms/control-inline/control-inline.element.ts"],"sourcesContent":["/*\n * Copyright (c) 2016-2023 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { __decorate } from \"tslib\";\nimport { html } from 'lit';\nimport { property, event, getElementUpdates, state } from '@cds/core/internal';\nimport styles from './control-inline.element.scss';\nimport { CdsControl, ControlLabelLayout } from '../control/control.element.js';\nimport { getStatusIcon } from '../utils/utils.js';\n/**\n * Internal Control Inline (boolean types)\n *\n * ```typescript\n * import '@cds/core/forms/register.js';\n * ```\n *\n * ```html\n * <cds-internal-control-inline>\n *   <label>inline</label>\n *   <input type=\"radio\" />\n * </ds-internal-control-inline>\n * ```\n * @element cds-internal-control-inline\n * @slot - For projecting inline input and label\n */\nexport class CdsInternalControlInline extends CdsControl {\n    constructor() {\n        super(...arguments);\n        /** Align the labels of controls within group left or right */\n        this.controlAlign = 'left';\n        /** @private */\n        this.checked = false;\n        /** @private */\n        this.indeterminate = false;\n        this.supportsPrefixSuffixActions = false;\n    }\n    static get styles() {\n        return [...super.styles, styles];\n    }\n    get internalLabelTemplate() {\n        return this.labelLayout !== ControlLabelLayout.ariaLabel\n            ? html `\n          <cds-internal-control-label\n            action=\"secondary\"\n            .disabled=\"${this.disabled}\"\n            cds-layout=\"align:vertical-center\"\n          >\n            <slot name=\"label\" @slotchange=${() => this.associateInputAndLabel()}></slot>\n          </cds-internal-control-label>\n        `\n            : '';\n    }\n    render() {\n        return html `\n      <div\n        class=\"private-host\"\n        cds-layout=\"${this.isControlGroup ? 'horizontal align:vertical-center' : 'vertical'} gap:xs\"\n      >\n        <div\n          cds-layout=\"horizontal gap:xs wrap:none align:vertical-center ${this.controlAlign === 'right'\n            ? 'order:reverse'\n            : ''}\"\n        >\n          <div role=\"presentation\" class=\"input\" @click=${this.selectInput}></div>\n          <div role=\"presentation\" focusable @click=${this.selectInput}></div>\n          ${this.internalLabelTemplate}\n        </div>\n        ${this.messages?.length\n            ? html ` <div cds-layout=\"horizontal wrap:none ${this.messages?.length ? 'gap:xs' : ''}\">\n              ${getStatusIcon(this.status)}\n              <div cds-layout=\"align:vertical-center\" class=\"messages\">\n                <slot name=\"message\"></slot>\n              </div>\n            </div>`\n            : ''}\n      </div>\n      <div cds-layout=\"display:screen-reader-only\">\n        <slot name=\"input\"></slot>\n      </div>\n    `;\n    }\n    firstUpdated(props) {\n        super.firstUpdated(props);\n        this.inputControl.addEventListener('change', () => (this.checked = this.inputControl.checked));\n        this.observers.push(getElementUpdates(this.inputControl, 'checked', (value) => (this.checked = value === '' ? true : value)), getElementUpdates(this.inputControl, 'indeterminate', (value) => (this.indeterminate = value === '' ? true : value)));\n    }\n    updated(props) {\n        super.updated(props);\n        if (props.has('indeterminate') && props.get('indeterminate') !== this.indeterminate && this.indeterminate) {\n            this.checked = false;\n        }\n        if (props.has('checked') && props.get('checked') !== this.checked && this.checked) {\n            this.indeterminate = false;\n            this.checkedChange.emit(this.checked, { bubbles: !this.isControlGroup }); // if not a group then bubble to notify the other associated controls\n        }\n    }\n    selectInput(e) {\n        this.inputControl.focus();\n        this.inputControl.click();\n        e.preventDefault(); // prevent any events from the input div, only the native input\n    }\n}\n__decorate([\n    property({ type: String })\n], CdsInternalControlInline.prototype, \"controlAlign\", void 0);\n__decorate([\n    state()\n], CdsInternalControlInline.prototype, \"isControlGroup\", void 0);\n__decorate([\n    state({ type: Boolean, reflect: true })\n], CdsInternalControlInline.prototype, \"checked\", void 0);\n__decorate([\n    state({ type: Boolean, reflect: true })\n], CdsInternalControlInline.prototype, \"indeterminate\", void 0);\n__decorate([\n    event()\n], CdsInternalControlInline.prototype, \"checkedChange\", void 0);\n"],"names":["CdsInternalControlInline","CdsControl","constructor","super","this","controlAlign","checked","indeterminate","supportsPrefixSuffixActions","styles","internalLabelTemplate","labelLayout","ControlLabelLayout","ariaLabel","html","disabled","associateInputAndLabel","render","isControlGroup","selectInput","messages","length","getStatusIcon","status","firstUpdated","props","inputControl","addEventListener","observers","push","getElementUpdates","value","updated","has","get","checkedChange","emit","bubbles","e","focus","click","preventDefault","__decorate","property","type","String","prototype","state","Boolean","reflect","event"],"mappings":"8UA2BO,MAAMA,UAAiCC,EAC1CC,cACIC,oBAEAC,KAAKC,aAAe,OAEpBD,KAAKE,SAAU,EAEfF,KAAKG,eAAgB,EACrBH,KAAKI,6BAA8B,EAE5BC,oBACP,MAAO,IAAIN,MAAMM,OAAQA,GAEzBC,4BACA,OAAON,KAAKO,cAAgBC,EAAmBC,UACzCC,CAAK,6DAGMV,KAAKW,gFAGe,IAAMX,KAAKY,iEAG1C,GAEVC,SACI,OAAOH,CAAK,yCAGEV,KAAKc,eAAiB,mCAAqC,yFAGe,UAAtBd,KAAKC,aACjE,gBACA,sDAE4CD,KAAKe,iEACTf,KAAKe,sBAC/Cf,KAAKM,8BAEPN,KAAKgB,UAAUC,OACXP,CAAK,yCAA0CV,KAAKgB,UAAUC,OAAS,SAAW,OAChFC,EAAclB,KAAKmB,2GAKrB,wFAOVC,aAAaC,GACTtB,MAAMqB,aAAaC,GACnBrB,KAAKsB,aAAaC,iBAAiB,UAAU,IAAOvB,KAAKE,QAAUF,KAAKsB,aAAapB,UACrFF,KAAKwB,UAAUC,KAAKC,EAAkB1B,KAAKsB,aAAc,WAAYK,GAAW3B,KAAKE,QAAoB,KAAVyB,GAAsBA,IAASD,EAAkB1B,KAAKsB,aAAc,iBAAkBK,GAAW3B,KAAKG,cAA0B,KAAVwB,GAAsBA,KAE/OC,QAAQP,GACJtB,MAAM6B,QAAQP,GACVA,EAAMQ,IAAI,kBAAoBR,EAAMS,IAAI,mBAAqB9B,KAAKG,eAAiBH,KAAKG,gBACxFH,KAAKE,SAAU,GAEfmB,EAAMQ,IAAI,YAAcR,EAAMS,IAAI,aAAe9B,KAAKE,SAAWF,KAAKE,UACtEF,KAAKG,eAAgB,EACrBH,KAAK+B,cAAcC,KAAKhC,KAAKE,QAAS,CAAE+B,SAAUjC,KAAKc,kBAG/DC,YAAYmB,GACRlC,KAAKsB,aAAaa,QAClBnC,KAAKsB,aAAac,QAClBF,EAAEG,kBAGVC,EAAW,CACPC,EAAS,CAAEC,KAAMC,UAClB7C,EAAyB8C,UAAW,oBAAgB,GACvDJ,EAAW,CACPK,KACD/C,EAAyB8C,UAAW,sBAAkB,GACzDJ,EAAW,CACPK,EAAM,CAAEH,KAAMI,QAASC,SAAS,KACjCjD,EAAyB8C,UAAW,eAAW,GAClDJ,EAAW,CACPK,EAAM,CAAEH,KAAMI,QAASC,SAAS,KACjCjD,EAAyB8C,UAAW,qBAAiB,GACxDJ,EAAW,CACPQ,KACDlD,EAAyB8C,UAAW,qBAAiB"}